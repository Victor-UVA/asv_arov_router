<?xml version="1.0" encoding="UTF-8"?>
<launch>
    <node pkg="bluerov" exec="bluerov_data_collector" name="bluerov_data_collector" />
    <node pkg="bluerov" exec="maddy_data_collector" name="maddy_data_collector" />
    <node pkg="bluerov" exec="data_logger" name="data_logger" />

    <node pkg="gscam2" exec="gscam_main" name="gscam">
        <param name="camera_name" value="narrow_stereo"/>
        <param name="camera_info_url" value="file:///home/malori/ros2_ws/bluerov/config/ost.yaml"/>
        <param name="gscam_config" value="udpsrc port=5500 ! application/x-rtp, payload=96 ! rtph264depay ! avdec_h264 ! decodebin ! videoconvert ! video/x-raw,format=RGB ! queue ! videoconvert"/>
        <param name="frame_id" value="bluerov_camera"/>
    </node>

    <node name="bluerov_camera_transform" pkg="tf2_ros" exec="static_transform_publisher" args="0.15 0 0 -1.571 -3.141 -1.571 /bluerov /bluerov_camera"/>
    <node name="bluerov_odom_transform" pkg="tf2_ros" exec="static_transform_publisher" args="0 0 0 0 0 0 /bluerov_odom /bluerov"/>

    <!-- <node pkg="robot_localization" exec="navsat_transform_node" name="usv_gps_transform"> -->
        <!-- <param name="magnetic_declination_radians" value="0.17133316072"/> -->
        <!-- <param name="zero_altitude" value="true"/> -->
        <!-- <param name="use_odometry_yaw" value="false"/> -->
        <!-- <remap from="odometry/filtered" to="maddy/pose"/> -->
        <!-- <remap from="odometry/gps" to="maddy/pose"/> Don't uncomment-->
        <!-- <remap from="imu/data" to="maddy/imu"/> -->
        <!-- <remap from="gps/fix" to="maddy/gps"/> -->
    <!-- </node> -->

    <!-- <node pkg="apriltag_ros" exec="apriltag_node" name="apriltag"> -->
        <!-- <param name="image_rect" value="/image_raw"/> -->
        <!-- <param name="camera_info" value="/camera_info"/> -->
    <!-- </node> -->
</launch>